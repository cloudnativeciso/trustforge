import sys
import types

# If tests import "src.trustforge", map it to the real "trustforge" package.
try:
    import trustforge  # noqa: F401
except Exception as e:  # pragma: no cover
    raise RuntimeError(f"trustforge package not importable: {e}")

# Create a dummy "src" module and point "src.trustforge" at "trustforge".
if "src" not in sys.modules:
    sys.modules["src"] = types.ModuleType("src")

import trustforge  # now safe

sys.modules["src.trustforge"] = trustforge
